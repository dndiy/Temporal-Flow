---
// This component ensures the friendStore functions are available to client-side scripts
---

<script>
  // Import friendStore functions and make them available globally
  import { 
    isFriendContentEnabled, 
    getFriendPostsAsEntries,
    getFriends,
    addFriend,
    updateFriend,
    removeFriend
  } from '../stores/friendStore';
  
// Expose these functions to the window object for client-side scripts
if (typeof window !== 'undefined') {
  // Get base path from document if available (for GitHub Pages)
  const basePath = document.querySelector('base')?.getAttribute('href') || '';
  window.basePath = basePath; // Store for reference
  
  window.isFriendContentEnabled = isFriendContentEnabled;
  window.getFriendPostsAsEntries = getFriendPostsAsEntries;
  window.getFriends = getFriends;
  window.addFriend = addFriend;
  window.updateFriend = updateFriend;
  window.removeFriend = removeFriend;
  
  console.log('[FriendStoreExtension] Friend store functions exposed to window');
  console.log('[FriendStoreExtension] Site base path:', basePath);
}
</script>